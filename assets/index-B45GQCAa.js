import{u as w,b as g,K as N,B as b,i as j,j as s}from"./index-C2mn7hxx.js";import{u as y}from"./user.api--ZsZSsJx.js";import{B as v}from"./Button-C_YtmuGB.js";import{I as m}from"./Input-Be6M7vZh.js";function z(){var o,l,i;const{register:r,handleSubmit:n,formState:{errors:a},setError:p,reset:x}=w({defaultValues:{password:"",confirm_password:"",new_password:""}}),u=g({mutationFn:y.updateProfile}),h=n(async f=>{var d;try{const e=await u.mutateAsync(N(f,["confirm_password"]));b.success(e.data.message),x()}catch(e){if(j(e)){const t=(d=e.response)==null?void 0:d.data.data;t&&Object.keys(t).forEach(c=>{p(c,{message:t[c],type:"Server"})})}}});return s.jsxs("div",{className:"rounded-sm bg-white px-2 pb-10 shadow md:px-7 md:pb-20",children:[s.jsxs("div",{className:"border-b border-b-gray-200 py-6",children:[s.jsx("h1",{className:"text-lg font-medium capitalize text-gray-900",children:"Đổi mật khẩu"}),s.jsx("div",{className:"mt-1 text-sm text-gray-700",children:"Quản lý thông tin hồ sơ để bảo mật tài khoản"})]}),s.jsx("form",{className:"mt-8 mr-auto max-w-2xl",onSubmit:h,children:s.jsxs("div",{className:"mt-6 flex-grow md:mt-0 md:pr-12",children:[s.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.jsx("div",{className:"truncate pt-3 capitalize sm:w-[20%] sm:text-right",children:"Mật khẩu cũ"}),s.jsx("div",{className:"sm:w-[80%] sm:pl-5",children:s.jsx(m,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",className:"relative ",register:r,name:"password",type:"password",placeholder:"Mật khẩu cũ",errorMessage:(o=a.password)==null?void 0:o.message})})]}),s.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.jsx("div",{className:"truncate pt-3 capitalize sm:w-[20%] sm:text-right",children:"Mật khẩu mới"}),s.jsx("div",{className:"sm:w-[80%] sm:pl-5",children:s.jsx(m,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",className:"relative ",register:r,name:"new_password",type:"password",placeholder:"Mật khẩu mới",errorMessage:(l=a.new_password)==null?void 0:l.message})})]}),s.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.jsx("div",{className:"truncate pt-3 capitalize sm:w-[20%] sm:text-right",children:"Nhập lại mật khẩu"}),s.jsx("div",{className:"sm:w-[80%] sm:pl-5",children:s.jsx(m,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",className:"relative ",register:r,name:"confirm_password",type:"password",placeholder:"Nhập lại mật khẩu",errorMessage:(i=a.confirm_password)==null?void 0:i.message})})]}),s.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.jsx("div",{className:"truncate pt-3 capitalize sm:w-[20%] sm:text-right"}),s.jsx("div",{className:"sm:w-[80%] sm:pl-5",children:s.jsx(v,{className:"flex h-9 items-center rounded-sm bg-orange px-5 text-center text-sm text-white hover:bg-orange/80",type:"submit",children:"Lưu"})})]})]})})]})}export{z as default};
